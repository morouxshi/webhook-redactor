/*! webhook-redactor - v0.0.1 - 2014-02-26
* https://github.com/webhook/webhook-redactor
* Copyright (c) 2014 Mike Horn; Licensed MIT */
!function(a){"use strict";window.RedactorPlugins=window.RedactorPlugins||{},a.embedly.defaults.key="65874c90af644c6a8f0b7072fe857811",a.embedly.defaults.query={maxwidth:640};var b=function(a){this.redactor=a,this.observe()};b.prototype={observe:function(){this.redactor.$editor.on("keyup.redactor",a.proxy(function(a){a.which===this.redactor.keyCode.ENTER&&this.checkNode(this.redactor.$editor.get(0))},this))},checkNode:function(b){return a.each(b.childNodes,a.proxy(function(b,c){if(3===c.nodeType&&c.nodeValue&&c.nodeValue.match(/((http:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*\.youtube\.com\/view_play_list.*|.*\.youtube\.com\/playlist.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|player\.vimeo\.com\/.*))|(https:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|www\.vimeo\.com\/.*|vimeo\.com\/.*|player\.vimeo\.com\/.*)))/i)){var d=c.nodeValue,e=a("<span>loading...</span>");a(c).replaceWith(e),a.embedly.oembed(d).done(function(b){a.each(b,function(){e.replaceWith('<figure data-type="video"><p>'+this.html+"</p><figcaption></figcaption></figure>")})})}else 1!==c.nodeType||/^(a|button|textarea)$/i.test(c.tagName)||this.checkNode(c)},this)),this.matches}},window.RedactorPlugins.autoembedly={init:function(){this.autoembedly=new b(this)}}}(jQuery),function(a){"use strict";var b=function(a){this.redactor=a,this.init()};b.prototype={init:function(){this.removeEmptyPs()},removeEmptyPs:function(){this.redactor.$editor.find("p").filter(function(){return!a.trim(a(this).text())}).remove()}},window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.cleanup={init:function(){this.cleanup=new b(this)}}}(jQuery),function(a){"use strict";var b=function(a){this.redactor=a,this.toolbar={},this.init()};b.prototype={control:{up:{classSuffix:"arrow-up"},down:{classSuffix:"arrow-down"},"|":{classSuffix:"divider"},remove:{classSuffix:"delete"}},controlGroup:["up","down","remove"],init:function(){this.observeCaptions(),this.observeToolbars()},observeCaptions:function(){this.redactor.$editor.on("click","figcaption:empty, cite:empty",a.proxy(function(b){a(b.target).prepend("<br>"),this.redactor.selectionEnd(b.target),b.stopPropagation()},this)),a(window).on("click",a.proxy(this.cleanCaptions,this)),this.redactor.$editor.on("blur",a.proxy(this.cleanCaptions,this)),this.redactor.$editor.closest("form").one("submit",a.proxy(this.clearCaptions,this)),this.redactor.$editor.on("keydown",a.proxy(function(b){var c=this.redactor.getCurrent(),d=!c.length,e=!!a(c).closest("figcaption, cite").length,f=a.inArray(b.keyCode,[this.redactor.keyCode.BACKSPACE,this.redactor.keyCode.DELETE])>=0;d&&f&&e&&b.preventDefault()},this))},cleanCaptions:function(){this.redactor.$editor.find("figcaption, cite").filter(function(){return!a(this).text()}).empty()},clearCaptions:function(){this.redactor.$editor.find("figcaption, cite").filter(function(){return!a(this).text()}).remove(),this.redactor.sync()},observeToolbars:function(){this.redactor.$editor.on("mouseenter","figure",a.proxy(function(b){var c=a(b.currentTarget),d=c.data("type")||"default",e=this.getToolbar(d).data("figure",c).prependTo(c);this.redactor[d]&&this.redactor[d].onShow&&this.redactor[d].onShow(c,e)},this)),this.redactor.$editor.on("mouseleave","figure",a.proxy(function(b){a(b.currentTarget).find(".wy-figure-controls").appendTo(this.redactor.$box)},this)),this.redactor.$editor.on("mousedown",".wy-figure-controls",a.proxy(function(){event.preventDefault(),this.current=this.redactor.getCurrent()},this)),this.redactor.$editor.on("click",".wy-figure-controls span, .wy-figure-controls a",a.proxy(function(b){b.stopPropagation();var c=a(b.currentTarget),d=c.data("command"),e=c.closest("figure"),f=this.redactor[e.data("type")];this.command(d,e,f)},this)),this.redactor.$editor.on("keydown",function(){a(this).find("figure").trigger("mouseleave")})},getToolbar:function(b){if(this.toolbar[b])return this.toolbar[b];var c=this.redactor[b]&&this.redactor[b].controlGroup||this.controlGroup,d=a.extend({},this.control,this.redactor[b]&&this.redactor[b].control||{}),e=this.buildControls(c,d),f=a('<div class="wy-figure-controls">').append(e);return this.toolbar[b]=f},buildControls:function(b,c){var d=a();return a.each(b,a.proxy(function(b,e){var f;"string"==typeof e?(f=c[e],d=d.add(a("<span>",{"class":"wy-figure-controls-"+f.classSuffix,text:f.text}).data({command:e,control:f}))):"object"==typeof e&&a.each(e,a.proxy(function(b,e){var g=a("<span>",{"class":"wy-figure-controls-table wy-dropdown",text:" "+b});a('<span class="caret">').appendTo(g);var h=a('<dl class="wy-dropdown-menu wy-dropdown-bubble wy-dropdown-arrow wy-dropdown-arrow-left">').appendTo(g);a.each(e,a.proxy(function(b,d){f=c[d],"|"===d?a('<dd class="divider">').appendTo(h):a("<a>",{text:f.text}).data({command:d,control:f}).appendTo(a("<dd>").appendTo(h))},this)),d=d.add(g)},this))},this)),d},command:function(b,c,d){switch(c.find(".wy-figure-controls").appendTo(this.redactor.$box),this.redactor.bufferSet(this.redactor.$editor.html()),b){case"up":c.prev().before(c);break;case"down":c.next().after(c);break;case"remove":c.remove();break;default:d&&d.command&&d.command(b,c,a(this.current))}}},window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.figure={init:function(){this.figure=new b(this)}}}(jQuery),function(a){"use strict";var b=function(b){this.redactor=b,this.$window=a(b.window),this.$window.on("scroll",a.proxy(this.checkOffset,this))};b.prototype={checkOffset:function(){this.redactor.$box.offset().top-this.$window.scrollTop()<=0?this.fix():this.unfix()},fix:function(){var a=parseInt(this.redactor.$box.css("border-left-width").replace("px",""),10);this.redactor.$toolbar.css({position:"fixed",left:this.redactor.$box.offset().left+a,width:this.redactor.$box.width(),zIndex:1}),this.redactor.$editor.css("padding-top",this.redactor.$toolbar.height()+10)},unfix:function(){this.redactor.$toolbar.css({position:"relative",left:"auto",width:"auto"}),this.redactor.$editor.css("padding-top",10)}},window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.fixedtoolbar={init:function(){this.fixedtoolbar=new b(this)}}}(jQuery),function(a){"use strict";window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.fullscreen={init:function(){this.fullscreen=!1,this.buttonAdd("fullscreen","Fullscreen",a.proxy(this.toggleFullscreen,this)),this.buttonSetRight("fullscreen"),this.opts.fullscreen&&this.toggleFullscreen()},toggleFullscreen:function(){var b;if(this.fullscreen){this.buttonRemoveIcon("fullscreen","normalscreen"),this.buttonInactive("fullscreen"),this.fullscreen=!1,a(window).off("resize",a.proxy(this.fullScreenResize,this)),a("body, html").css("overflow",""),this.$box.removeClass("redactor_box_fullscreen").css({width:"auto",height:"auto"}),this.opts.iframe&&(b=this.$editor.html()),this.tmpspan.after(this.$box).remove(),this.opts.iframe?this.fullscreenIframe(b):this.sync();var c=this.fsheight;this.opts.autoresize&&(c="auto"),this.opts.toolbarExternal&&(this.$box.css("top",this.boxcss.top),this.$toolbar.css({width:this.toolcss.width,top:this.toolcss.top,position:this.toolcss.position})),this.focus(),this.observeStart()}else this.buttonChangeIcon("fullscreen","normalscreen"),this.buttonActive("fullscreen"),this.fullscreen=!0,this.opts.toolbarExternal&&(this.toolcss={},this.boxcss={},this.toolcss.width=this.$toolbar.css("width"),this.toolcss.top=this.$toolbar.css("top"),this.toolcss.position=this.$toolbar.css("position"),this.boxcss.top=this.$box.css("top")),this.fsheight=this.$editor.height(),this.opts.iframe&&(b=this.get()),this.tmpspan=a("<span></span>"),this.$box.addClass("redactor_box_fullscreen").after(this.tmpspan),a("body, html").css("overflow","hidden"),a("body").prepend(this.$box),this.opts.iframe&&this.fullscreenIframe(b),this.fullScreenResize(),a(window).resize(a.proxy(this.fullScreenResize,this)),a(document).scrollTop(0,0),this.focus(),this.observeStart()},fullscreenIframe:function(a){this.$editor=this.$frame.contents().find("body").attr({contenteditable:!0,dir:this.opts.direction}),this.$editor[0]&&(this.document=this.$editor[0].ownerDocument,this.window=this.document.defaultView||window),this.iframeAddCss(),this.opts.fullpage?this.setFullpageOnInit(a):this.set(a),this.opts.wym&&this.$editor.addClass("redactor_editor_wym")},fullScreenResize:function(){if(!this.fullscreen)return!1;var b=this.$toolbar.height(),c=a(window).height()-b;this.$box.width(a(window).width()-2).height(c+b),this.opts.toolbarExternal&&(this.$toolbar.css({top:"0px",position:"absolute",width:"100%"}),this.$box.css("top",b+"px"))}}}(jQuery),function(a){"use strict";var b=function(a){this.redactor=a,this.init()};b.prototype={control:{left:{classSuffix:"arrow-left"},right:{classSuffix:"arrow-right"},small:{classSuffix:"small",text:"S"},medium:{classSuffix:"medium",text:"M"},resize_full:{classSuffix:"resize-full"},resize_small:{classSuffix:"resize-small"}},controlGroup:["left","up","down","right","|","small","medium","resize_full","resize_small","remove"],init:function(){this.redactor.$editor.on("focus",a.proxy(this.addCaptions,this)),this.addCaptions()},addCaptions:function(){this.redactor.$editor.find("figure[data-type=image]:not(:has(figcaption))").each(function(){a(this).append("<figcaption>")})},onShow:function(a,b){b.children().removeClass("on"),a.hasClass("wy-figure-small")?(b.find(".wy-figure-controls-small").show().addClass("on"),b.find(".wy-figure-controls-medium").show(),b.find(".wy-figure-controls-resize-full").show(),b.find(".wy-figure-controls-resize-small").hide()):a.hasClass("wy-figure-medium")?(b.find(".wy-figure-controls-small").show(),b.find(".wy-figure-controls-medium").show().addClass("on"),b.find(".wy-figure-controls-resize-full").show(),b.find(".wy-figure-controls-resize-small").hide()):(b.find(".wy-figure-controls-small").hide(),b.find(".wy-figure-controls-medium").hide(),b.find(".wy-figure-controls-large").hide(),b.find(".wy-figure-controls-resize-full").hide(),b.find(".wy-figure-controls-resize-small").show()),a.hasClass("wy-figure-right")&&b.find(".wy-figure-controls-arrow-right").addClass("on"),a.hasClass("wy-figure-left")&&b.find(".wy-figure-controls-arrow-left").addClass("on")},command:function(b,c){var d=function(a,b,c,d){var e=(d?".":"")+"wy-figure-"+(c||"");return e+a.join((b||" ")+e)},e=function(b,e){c.removeClass(d(b)).addClass(d(e)),a.each(e,function(a,b){c.trigger("imageCommand",b)})};switch(b){case"left":case"right":e(["left","right"],[b]),c.hasClass("wy-figure-medium")||c.hasClass("wy-figure-small")||(c.addClass("wy-figure-medium"),c.trigger("medium"));break;case"small":case"medium":e(["small","medium","large"],[b]),c.hasClass("wy-figure-left")||c.hasClass("wy-figure-right")||(c.addClass("wy-figure-left"),c.trigger("left"));break;case"resize_full":e(["small","medium","left","right"],["large"]);break;case"resize_small":e(["small","large","right"],["medium","left"])}}},window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.image={init:function(){this.image=new b(this)}}}(jQuery),function(a){"use strict";var b=function(a){this.redactor=a};b.prototype={insert:function(b){var c=marked(b);this.redactor.modalClose(),this.redactor.selectionRestore(),this.redactor.bufferSet(this.redactor.$editor.html());var d=this.redactor.getBlock()||this.redactor.getCurrent();d?a(d).after(c):this.redactor.insertHtmlAdvanced(c,!1),this.redactor.selectionRestore(),this.redactor.sync()}},window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.markdown={init:function(){this.markdown=new b(this),this.buttonAddAfter("html","html","Markdown",a.proxy(function(){this.selectionSave();var b=a.proxy(function(){a("#redactor_insert_table_btn").on("click",a.proxy(function(){this.markdown.insert(a("#redactor_markdown_text").val())},this)),setTimeout(function(){a("#redactor_markdown_text").trigger("focus")},200)},this),c=String()+'<section><label>Markdown Text</label><textarea rows="5" id="redactor_markdown_text"></textarea></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">'+this.opts.curLang.cancel+'</button><input type="button" name="upload" class="redactor_modal_btn" id="redactor_insert_table_btn" value="'+this.opts.curLang.insert+'"></footer>';this.modalInit("Insert Markdown",c,500,b)},this))}}}(jQuery),function(a){"use strict";var b=function(a){this.redactor=a,this.init()};b.prototype={control:{left:{classSuffix:"arrow-left"},right:{classSuffix:"arrow-right"},small:{classSuffix:"small",text:"S"},medium:{classSuffix:"medium",text:"M"},large:{classSuffix:"large",text:"L"},resize_full:{classSuffix:"resize-full"},resize_small:{classSuffix:"resize-small"}},controlGroup:["left","up","down","right","|","small","medium","large","resize_full","resize_small","remove"],init:function(){this.redactor.$editor.on("focus",a.proxy(this.addCites,this)),this.addCites(),this.observe()},addCites:function(){this.redactor.$editor.find("figure[data-type=quote] blockquote:not(:has(cite))").each(function(){a(this).append("<cite>")})},observe:function(){this.redactor.$editor.on("mutate",a.proxy(this.orphanCheck,this))},orphanCheck:function(){this.redactor.$editor.find("blockquote").filter(function(){return!a(this).parents("figure").length}).each(function(){a('<figure data-type="quote">').insertBefore(this).prepend(a(this).append("<cite>"))})},onShow:function(a,b){b.children().removeClass("on"),a.hasClass("wy-figure-medium")?b.find(".wy-figure-controls-medium").addClass("on"):a.hasClass("wy-figure-large")?b.find(".wy-figure-controls-large").addClass("on"):b.find(".wy-figure-controls-small").addClass("on"),a.hasClass("wy-figure-left")?(b.find(".wy-figure-controls-arrow-left").addClass("on"),b.find(".wy-figure-controls-resize-small").hide(),b.find(".wy-figure-controls-resize-full").show()):a.hasClass("wy-figure-right")?(b.find(".wy-figure-controls-arrow-right").addClass("on"),b.find(".wy-figure-controls-resize-small").hide(),b.find(".wy-figure-controls-resize-full").show()):(b.find(".wy-figure-controls-resize-small").show(),b.find(".wy-figure-controls-resize-full").hide())},command:function(a,b){switch(a){case"left":b.removeClass("wy-figure-right").addClass("wy-figure-left");break;case"right":b.removeClass("wy-figure-left").addClass("wy-figure-right");break;case"resize_full":b.removeClass("wy-figure-left wy-figure-right");break;case"resize_small":b.addClass("wy-figure-left");break;case"small":b.removeClass("wy-figure-medium wy-figure-large").addClass("wy-figure-small");break;case"medium":b.removeClass("wy-figure-small wy-figure-large").addClass("wy-figure-medium");break;case"large":b.removeClass("wy-figure-small wy-figure-medium").addClass("wy-figure-large")}},toggle:function(){this.redactor.formatQuote();var b=a(this.redactor.getBlock()||this.redactor.getCurrent());b.is("blockquote")?a('<figure data-type="quote">').insertBefore(b).prepend(b).append("<cite>"):(b.closest("figure").before(b).remove(),b.find("cite").remove()),this.redactor.sync()}},window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.quote={init:function(){this.quote=new b(this),this.buttonAddBefore("link","quote","Quote",a.proxy(this.quote.toggle,this.quote))}}}(jQuery),function(a){"use strict";var b=function(a){this.redactor=a};b.prototype={control:{row_up:{text:"Add row above"},row_down:{text:"Add row below"},col_left:{text:"Add column left"},col_right:{text:"Add column right"},add_head:{text:"Add header"},del_head:{text:"Delete header"},del_col:{text:"Delete column"},del_row:{text:"Delete row"},del_table:{text:"Delete table"},stripe:{text:"Striped row"},border:{text:"Borders on rows"},full_border:{text:"Borders everywhere"}},controlGroup:["up","down","|",{"Table Options":["row_up","row_down","col_left","col_right","|","add_head","del_head","|","del_col","del_row","del_table","|","border","stripe","full_border"]},"remove"],insertTable:function(b,c){var d,e,f,g,h=a("<div></div>"),i=Math.floor(99999*Math.random()),j=a('<table id="table'+i+'">'),k=a("<thead>").appendTo(j),l=a("<tbody>").appendTo(j);for(e=a("<tr>").appendTo(k),f=0;c>f;f++)a("<th>Header</th>").appendTo(e);for(d=0;b>d;d++){for(e=a("<tr>"),f=0;c>f;f++)g=a("<td>Data</td>"),0===d&&0===f&&g.append('<span id="selection-marker-1">'+this.redactor.opts.invisibleSpace+"</span>"),a(e).append(g);l.append(e)}a('<figure data-type="table">').addClass("wy-table wy-table-bordered-rows").append(j).appendTo(h);var m=h.html();this.redactor.modalClose(),this.redactor.selectionRestore(),this.redactor.bufferSet(this.redactor.$editor.html());var n=this.redactor.getBlock()||this.redactor.getCurrent();n?a(n).after(m):this.redactor.insertHtmlAdvanced(m,!1),this.redactor.selectionRestore();var o=this.redactor.$editor.find("#table"+i);o.find("span#selection-marker-1").remove(),o.removeAttr("id"),this.redactor.sync()},command:function(b,c,d){switch(b){case"row_up":case"row_down":a.proxy(function(){var c,e=d.closest("tr"),f=a("<tr>");for(c=0;c<e.children().length;c++)a("<td>").text("Data").appendTo(f);"row_up"===b?f.insertBefore(e):f.insertAfter(e)},this)();break;case"col_left":case"col_right":a.proxy(function(){var c=d.closest("td"),e=c.closest("tr"),f=e.closest("table"),g=e.children().index(c)+1,h="col_left"===b?"before":"after";f.find("thead tr").children(":nth-child("+g+")")[h](a("<th>").text("Header")),f.find("tbody tr").children(":nth-child("+g+")")[h](a("<td>").text("Data"))},this)();break;case"add_head":c.find("table thead").length||a.proxy(function(){for(var b=c.find("tr").first().children().length,d=c.find("table"),e=a("<thead>").prependTo(d),f=a("<tr>").appendTo(e),g=0;b>g;g++)a("<th>").text("Header").appendTo(f)},this)();break;case"del_head":c.find("thead").remove();break;case"del_col":a.proxy(function(){var a=d.closest("td"),b=a.parent().children().index(a)+1;a.closest("table").find("tr").children(":nth-child("+b+")").remove()},this)();break;case"del_row":d.closest("tr").remove();break;case"del_table":c.remove();break;case"border":c.removeClass("wy-table-bordered-all").toggleClass("wy-table-bordered-rows");break;case"stripe":c.toggleClass("wy-table-striped");break;case"full_border":c.removeClass("wy-table-bordered-rows").toggleClass("wy-table-bordered-all")}}},window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.table={init:function(){this.table=new b(this),this.buttonAddBefore("link","table","Table",a.proxy(function(){this.selectionSave();var b=a.proxy(function(){a("#redactor_insert_table_btn").on("click",a.proxy(function(){this.table.insertTable(a("#redactor_table_rows").val(),a("#redactor_table_columns").val())},this)),setTimeout(function(){a("#redactor_table_rows").trigger("focus")},200)},this),c=String()+"<section><label>"+this.opts.curLang.rows+'</label><input type="text" size="5" value="2" id="redactor_table_rows"><label>'+this.opts.curLang.columns+'</label><input type="text" size="5" value="3" id="redactor_table_columns"></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">'+this.opts.curLang.cancel+'</button><input type="button" name="upload" class="redactor_modal_btn" id="redactor_insert_table_btn" value="'+this.opts.curLang.insert+'"></footer>';this.modalInit("Insert Table",c,500,b)},this))}}}(jQuery),function(a){"use strict";var b=function(a){this.redactor=a,this.init()};b.prototype={control:{resize_full:{classSuffix:"resize-full"},resize_small:{classSuffix:"resize-small"}},controlGroup:["up","down","|","resize_full","resize_small","remove"],init:function(){this.redactor.$editor.find("figure[data-type=video]:not(:has(figcaption))").each(function(){a(this).append("<figcaption>")})},onShow:function(a,b){a.hasClass("wy-figure-full")?(b.find(".wy-figure-controls-resize-full").hide(),b.find(".wy-figure-controls-resize-small").show()):(b.find(".wy-figure-controls-resize-full").show(),b.find(".wy-figure-controls-resize-small").hide())},command:function(a,b){"resize_full"===a?b.addClass("wy-figure-full"):"resize_small"===a&&b.removeClass("wy-figure-full")}},window.RedactorPlugins=window.RedactorPlugins||{},window.RedactorPlugins.video={init:function(){this.video=new b(this);var c=function(b){this.bufferSet(),b='<figure data-type="video"><p>'+this.cleanStripTags(b)+"</p><figcaption></figcaption></figure>",this.selectionRestore();var c=this.getBlock()||this.getCurrent();c?a(c).after(b):this.insertHtmlAdvanced(b,!1),this.sync(),this.modalClose()},d=/(http|https):\/\/[\w\-]+(\.[\w\-]+)+([\w.,@?\^=%&amp;:\/~+#\-]*[\w@?\^=%&amp;\/~+#\-])?/;this.buttonAddBefore("link","video","Video",a.proxy(function(){var b=a.proxy(function(){this.selectionSave(),a("#redactor_insert_video_btn").click(a.proxy(function(){var b=a.trim(a("#redactor_insert_video_area").val());d.test(b)?a.embedly.oembed(b).done(a.proxy(function(b){a.each(b,a.proxy(function(a,b){c.call(this,b.html)},this))},this)):c.call(this,b)},this)),setTimeout(function(){a("#redactor_insert_video_area").focus()},200)},this),e=String()+'<section><form id="redactorInsertVideoForm"><label>'+this.opts.curLang.video_html_code+'</label><textarea id="redactor_insert_video_area" style="width: 99%; height: 160px;"></textarea></form></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">'+this.opts.curLang.cancel+'</button><input type="button" class="redactor_modal_btn" id="redactor_insert_video_btn" value="'+this.opts.curLang.insert+'" /></footer>';this.modalInit("Insert Video",e,500,b)},this))}}}(jQuery),function(a){a.fn.webhookRedactor=function(b){return this.redactor("string"==typeof b?b:a.extend({},a.webhookRedactor.options,b))},a.webhookRedactor=function(b){return a.extend({},a.webhookRedactor.options,b)},a.webhookRedactor.options={observeImages:!1,buttons:["formatting","|","bold","italic","|","unorderedlist","orderedlist","|","link","|","html"],plugins:["cleanup","fullscreen","fixedtoolbar","autoembedly","figure","image","video","table","quote"],initCallback:function(){this.$element.closest("form").one("submit",a.proxy(function(){this.opts.visual&&this.sync()},this)),this.$element.trigger("init.webhookRedactor",this.getObject())},changeCallback:function(){this.$editor.trigger("mutate"),this.$element.trigger("mutate.webhookRedactor",this.getObject())}}}(jQuery);